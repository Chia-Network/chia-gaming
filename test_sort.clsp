
(mod ()
    (include *standard-cl-22*)
    (include sort.clinc)
    (include assert.clinc)
    (include deep_compare.clinc)
    (include reverse.clinc)
    (include prepend.clinc)
    (include map.clinc)
    (include range.clinc)
    (include permutations.clinc)

    (defun last (next . remainder)
        (if remainder
            (last remainder)
            next
        )
    )
    (defun busy (myfunc mylist returnval)
        (if mylist
            (last
                (a myfunc (f mylist))
                (busy myfunc (r mylist) returnval)
            )
            returnval
        )
    )
    (defun try_list (mylist)
        (busy (lambda ((& mylist) newlist) (assert (deep= mylist newlist) 0))
            (permutations mylist)
            0
        )
    )
    (last
        (busy (lambda (i) (try_list (range i)))
            (range 4)
            0
        )
        (try_list 0)
        (try_list (range 15))
        (try_list (reverse (range 15)))
        (try_list (list -1 -1 0 0 2 2 3 3))
        1
    )
)
